<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>大手游戏</title>
    <link href="https://hweiwei.github.io/dashou/feed.xml" rel="self" />
    <link href="https://hweiwei.github.io/dashou" />
    <updated>2022-08-25T17:35:56+08:00</updated>
    <author>
        <name>黄伟伟</name>
    </author>
    <id>https://hweiwei.github.io/dashou</id>

    <entry>
        <title>ios 覆盖安装问题研究</title>
        <author>
            <name>黄伟伟</name>
        </author>
        <link href="https://hweiwei.github.io/dashou/guan-yu-cocos-creator-duo-bundle-re-geng-yan-jiu.html"/>
        <id>https://hweiwei.github.io/dashou/guan-yu-cocos-creator-duo-bundle-re-geng-yan-jiu.html</id>

        <updated>2022-08-25T17:35:56+08:00</updated>
            <summary></summary>
        <content></content>
    </entry>
    <entry>
        <title>异形屏适配组件</title>
        <author>
            <name>黄伟伟</name>
        </author>
        <link href="https://hweiwei.github.io/dashou/safearea-component.html"/>
        <id>https://hweiwei.github.io/dashou/safearea-component.html</id>

        <updated>2022-08-18T09:16:38+08:00</updated>
            <summary>
                <![CDATA[
                    cocos creator 提供了safeArea 组件来适配刘海屏的情况，但是该组件只能在根节点生效，并且全屏适配，并不是很友好。我们仿造他实现一个轻量的子节点左右适配。实现如下： const { ccclass, property, menu, executeInEditMode, requireComponent, executionOrder } = cc._decorator; @ccclass @executeInEditMode @requireComponent(cc.Widget) @executionOrder(1000) @menu(&quot;tools/SafeArea&quot;) export default class SafeArea extends cc.Component { @property({ tooltip: &quot;异形屏适配&quot;, displayName: &quot;适配左边&quot;, }) left: boolean = true; @property({ tooltip: &quot;异形屏适配&quot;, displayName: &quot;适配右边&quot;, }) right: boolean&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3 id="cocos-creator-提供了safearea-组件来适配刘海屏的情况，但是该组件只能在根节点生效，并且全屏适配，并不是很友好。我们仿造他实现一个轻量的子节点左右适配。实现如下：">cocos creator 提供了safeArea 组件来适配刘海屏的情况，但是该组件只能在根节点生效，并且全屏适配，并不是很友好。我们仿造他实现一个轻量的子节点左右适配。实现如下：</h3>
<pre><code>
const { ccclass, property, menu, executeInEditMode, requireComponent, executionOrder } = cc._decorator;
@ccclass
@executeInEditMode
@requireComponent(cc.Widget)
@executionOrder(1000)
@menu(&quot;tools/SafeArea&quot;)
export default class SafeArea extends cc.Component {
    @property({
        tooltip: &quot;异形屏适配&quot;,
        displayName: &quot;适配左边&quot;,
    })
    left: boolean = true;

    @property({
        tooltip: &quot;异形屏适配&quot;,
        displayName: &quot;适配右边&quot;,
    })
    right: boolean = false;

    onLoad() {
        let widget = this.node.getComponent(cc.Widget);
        if (!widget) {
            return;
        }
        widget.updateAlignment();

        let safeArea = cc.sys.getSafeAreaRect();
        let viewsize = cc.winSize;
        let widthOffset = viewsize.width - safeArea.width;

        if (this.left &amp;&amp; widget.isAlignLeft) {
            widget.left += safeArea.x;
        }

        if (this.right &amp;&amp; widget.isAlignRight) {
            widget.right += widthOffset - safeArea.x;
        }

        widget.updateAlignment();
    }

    protected onEnable(): void {}
}
</code></pre>

            ]]>
        </content>
    </entry>
</feed>
